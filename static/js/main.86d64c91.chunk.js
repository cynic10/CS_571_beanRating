(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{190:function(e,t,a){e.exports=a(205)},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(62),c=a.n(l),o=(a(199),a(200),a(201),a(63)),s=a.n(o);var i=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)(null),[c,o]=Object(r.useState)(!0);Object(r.useEffect)(()=>{fetch("/CS_571_beanRating/datasets/rankingTable_radarChart_dataset.csv").then(e=>e.text()).then(e=>{const a=s.a.parse(e,{header:!0});t(a.data)})},[]);if(0===e.length)return n.a.createElement("div",{className:"ranking-table"},"Loading...");const i=Object.keys(e[0]);return n.a.createElement("div",{className:"ranking-table"},n.a.createElement("h2",null,"Ranking Table"),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{className:"sticky-col"},"#")," ",i.map(r=>n.a.createElement("th",{key:r,onClick:()=>(r=>{const n=r!==a||!c,s=[...e].sort((e,t)=>e[r]<t[r]?n?-1:1:e[r]>t[r]?n?1:-1:0);l(r),o(n),t(s)})(r),style:{cursor:"pointer"}},r," ",a===r?c?"\u2191":"\u2193":"")))),n.a.createElement("tbody",null,e.map((e,t)=>n.a.createElement("tr",{key:t},n.a.createElement("td",{className:"sticky-col"},t+1)," ",i.map(t=>n.a.createElement("td",{key:t},e[t])))))))},m=a(1);a(202);const d=["Aroma","Flavor","Aftertaste","Acidity","Body","Balance","Uniformity","Sweetness","Moisture"];var u=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)(null),[c,o]=Object(r.useState)({}),[s,i]=Object(r.useState)(!1),u=Object(r.useRef)(null);Object(r.useEffect)(()=>{m.a("/CS_571_beanRating/datasets/rankingTable_radarChart_dataset.csv").then(e=>{const a=e.map(e=>{var t;return{country:null===(t=e[""]||e.Country||e[Object.keys(e)[0]])||void 0===t?void 0:t.trim(),year:+e[Object.keys(e)[1]],Aroma:+e.Aroma,Flavor:+e.Flavor,Aftertaste:+e.Aftertaste,Acidity:+e.Acidity,Body:+e.Body,Balance:+e.Balance,Uniformity:+e.Uniformity,Sweetness:+e.Sweetness,Moisture:+e.Moisture,Total:+e.Total}});t(a);const r=[...new Set(a.map(e=>e.year))].sort((e,t)=>e-t);r.length&&l(r[0])})},[]),Object(r.useEffect)(()=>{if(!e.length||null===a)return;const t=e.filter(e=>e.year===a).map(e=>e.country),r={};t.forEach(e=>{r[e]=!0}),o(r)},[e,a]);const y=Object(r.useMemo)(()=>[...new Set(e.map(e=>e.year))].sort((e,t)=>e-t),[e]),g=Object(r.useMemo)(()=>e.filter(e=>e.year===a),[e,a]),h=Object(r.useMemo)(()=>[...g].sort((e,t)=>t.Total-e.Total),[g]),p=Object(r.useMemo)(()=>m.m().domain(h.map(e=>e.country)).range(m.n),[h]);Object(r.useEffect)(()=>{if(!e.length||null===a)return;const t=e.filter(e=>e.year===a&&c[e.country]),r=Math.min(500,500)/2-50,n=2*Math.PI/d.length,l=m.o(u.current);l.selectAll("*").remove();const o=l.attr("width",500).attr("height",500).append("g").attr("transform","translate(250,250)"),y=m.l().range([0,r]).domain([0,10]);for(let e=1;e<=5;e++)o.append("circle").attr("r",r/5*e).style("fill","none").style("stroke","#CDCDCD").style("stroke-dasharray","2,2");d.forEach((e,t)=>{const a=n*t-Math.PI/2,r=y(10)*Math.cos(a),l=y(10)*Math.sin(a);o.append("line").attr("x1",0).attr("y1",0).attr("x2",r).attr("y2",l).style("stroke","#CDCDCD").style("stroke-width","1px"),o.append("text").attr("x",1.1*r).attr("y",1.1*l).attr("dy","0.35em").style("font-size","10px").style("text-anchor","middle").text(e)});const g=m.h().x(e=>e[0]).y(e=>e[1]).curve(m.b);m.f(t,e=>e.country).forEach(e=>{let[t,a]=e;const r=a[0],l=d.map((e,t)=>{let a=r[e];"Moisture"===e&&(a=a<=1?80*a:a/80,a=Math.min(a,80));const l=n*t-Math.PI/2;return[y(a)*Math.cos(l),y(a)*Math.sin(l)]}),c=l.map(()=>[0,0]),i=o.append("path").datum(l).style("fill","none").style("stroke",p(t)).style("stroke-width","2px");s?i.attr("d",g(c)).transition().duration(1e3).attrTween("d",()=>{const e=m.g(c,l);return t=>g(e(t))}):i.attr("d",g(l));const u=o.selectAll(`.radar-circle-${t}`).data(l).enter().append("circle").attr("r",3).style("fill",p(t));s?u.attr("cx",0).attr("cy",0).transition().duration(1e3).attr("cx",e=>e[0]).attr("cy",e=>e[1]):u.attr("cx",e=>e[0]).attr("cy",e=>e[1])}),s&&i(!1)},[e,a,c,s,p]);return n.a.createElement("div",{className:"radar-chart-container"},n.a.createElement("h2",null,"Average Coffee Profile by Country and Year"),n.a.createElement("div",{className:"chart-and-legend"},n.a.createElement("svg",{ref:u}),n.a.createElement("div",{className:"legend-wrapper"},n.a.createElement("div",{className:"legend-controls"},n.a.createElement("label",{htmlFor:"year-select"},"Year:"),n.a.createElement("select",{id:"year-select",value:a||"",onChange:e=>{i(!0),l(+e.target.value)}},y.map(e=>n.a.createElement("option",{key:e,value:e},e)))),n.a.createElement("h3",null,"Countries"),n.a.createElement("ul",null,h.map(e=>{let{country:t,Total:a}=e;return n.a.createElement("li",{key:t,onClick:()=>(e=>o(t=>({...t,[e]:!t[e]})))(t),className:c[t]?"":"disabled"},n.a.createElement("span",{className:"legend-color",style:{backgroundColor:p(t)}}),t," (",a,")")})))))};a(203);var y=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)("All"),[c,o]=Object(r.useState)("avgProduction");Object(r.useEffect)(()=>{m.a("/CS_571_beanRating/datasets/line_graph_totalproduction_totalscores_by_countryandyear.csv").then(e=>{console.log("CSV Rows Loaded:",e);const a=e.map(e=>({country:e[""]||e.Country||e[Object.keys(e)[0]].trim(),year:+e[Object.keys(e)[1]],avgProduction:+e[Object.keys(e)[2]],avgScore:+e[Object.keys(e)[3]]}));t(a)})},[]);const s=Array.from(new Set(e.map(e=>e.country))),i="All"===a?e:e.filter(e=>e.country===a),d=Array.from(m.e(i,e=>e.year),e=>{let[t,a]=e;return{year:+t,value:m.j(a,e=>e[c])}}).sort((e,t)=>e.year-t.year),u=20,y=50,g=40,h=50,p=m.l().domain(m.d(d,e=>e.year)).range([h,600-y]),E=m.l().domain([.95*m.k(d,e=>e.value),1.05*m.i(d,e=>e.value)]).range([300-g,u]);return n.a.createElement("div",{className:"line-graph-container"},n.a.createElement("h2",null,"Average Score/Production Trends By Country"),n.a.createElement("div",{className:"controls"},n.a.createElement("label",null,"Country:",n.a.createElement("select",{value:a,onChange:e=>l(e.target.value)},n.a.createElement("option",{value:"All"},"All"),s.map(e=>n.a.createElement("option",{key:e,value:e},e)))),n.a.createElement("label",null,"Y-axis:",n.a.createElement("select",{value:c,onChange:e=>o(e.target.value)},n.a.createElement("option",{value:"avgProduction"},"Average Production"),n.a.createElement("option",{value:"avgScore"},"Average Score")))),n.a.createElement("svg",{viewBox:"0 0 600 300",preserveAspectRatio:"xMinYMin meet",style:{width:"100%",height:"auto"}},p.ticks().map(e=>n.a.createElement("text",{key:e,x:p(e),y:295,fontSize:"10",textAnchor:"middle"},e)),E.ticks(5).map(e=>n.a.createElement("text",{key:e,x:h-10,y:E(e),fontSize:"10",textAnchor:"end",alignmentBaseline:"middle"},e.toFixed(1))),n.a.createElement("line",{x1:p(m.k(d,e=>e.year)),x2:p(m.i(d,e=>e.year)),y1:E.range()[0],y2:E.range()[0],stroke:"#4e342e",strokeWidth:"1"}),n.a.createElement("text",{x:300,y:320,fontSize:"12",fill:"#4e342e",textAnchor:"middle",dy:"-4"},"Year"),n.a.createElement("text",{transform:"rotate(-90)",x:-150,y:"5",fontSize:"12",fill:"#4e342e",textAnchor:"middle"},"avgProduction"===c?"Average Production":"Average Score"),n.a.createElement("path",{fill:"none",stroke:"#4e342e",strokeWidth:"2",d:m.h().x(e=>p(e.year)).y(e=>E(e.value)).curve(m.c)(d)})))};a(204);const g=["Aroma","Flavor","Aftertaste","Acidity","Body","Balance","Uniformity","Sweetness","Moisture"];var h=()=>{const[e,t]=Object(r.useState)([]),[a,l]=Object(r.useState)(null);Object(r.useEffect)(()=>{m.a("/CS_571_beanRating/datasets/preprocessed_stacked_data_with_year.csv").then(e=>{const a=e.map(e=>({year:+e.Year,country:e.Country,...g.reduce((t,a)=>(t[a]=+e[a],t),{})}));t(a);const r=[...new Set(a.map(e=>e.year))].sort();l(r[0])})},[]);const c=e.filter(e=>e.year===a).map(e=>({...e,totalScore:g.reduce((t,a)=>t+e[a],0)})).sort((e,t)=>t.totalScore-e.totalScore).slice(0,5),o=20,s=50,i=60,d=m.l().domain([0,m.i(c,e=>e.totalScore)]).nice().range([400-s,o]),u=m.m(m.n).domain(g),y=m.p().keys(g)(c),h=[...new Set(e.map(e=>e.year))].sort();return n.a.createElement("div",{className:"stacked-bar-chart-container"},n.a.createElement("h2",null,"Top 5 Countries' Score Composition"),n.a.createElement("div",{className:"controls"},n.a.createElement("label",null,"Year:",n.a.createElement("select",{value:a||"",onChange:e=>l(+e.target.value)},h.map(e=>n.a.createElement("option",{key:e,value:e},e))))),n.a.createElement("div",{className:"stacked-bar-chart-scroll-wrapper"},n.a.createElement("svg",{width:680,height:400},y.map((e,t)=>e.map((a,r)=>{let[l,c]=a;return n.a.createElement("rect",{key:`${t}-${r}`,x:i+120*r,y:d(c),height:d(l)-d(c),width:100,fill:u(e.key)})})),c.map((e,t)=>n.a.createElement("text",{key:t,x:i+120*t+50,y:395,textAnchor:"middle",fontSize:"10"},e.country)),d.ticks(5).map((e,t)=>n.a.createElement("text",{key:t,x:i-5,y:d(e),textAnchor:"end",alignmentBaseline:"middle",fontSize:"10"},e.toFixed(1))))),n.a.createElement("div",{className:"legend"},g.map(e=>n.a.createElement("div",{key:e,className:"legend-item"},n.a.createElement("span",{className:"legend-color",style:{backgroundColor:u(e)}}),e))))};var p=function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"site-header"},n.a.createElement("div",{className:"header-content"},n.a.createElement("div",{className:"brand"},n.a.createElement("img",{src:"/CS_571_beanRating/image/coffee-bean.png",alt:"Coffee Bean",className:"bean-icon"}),n.a.createElement("h1",{className:"site-title"},"beanRating")),n.a.createElement("nav",{className:"header-links"},n.a.createElement("a",{href:"https://github.com/cynic10/CS_571_beanRating/blob/main/CS_571_FinalProcess%20Book.pdf",target:"_blank",rel:"noreferrer"},"Process Book"),n.a.createElement("a",{href:"https://github.com/cynic10/CS_571_beanRating",target:"_blank",rel:"noreferrer"},"GitHub"),n.a.createElement("a",{href:"https://www.youtube.com/watch?v=uo2VmsI0Cgw",target:"_blank",rel:"noreferrer"},"Screencast")))),n.a.createElement("div",{className:"site-description"},n.a.createElement("p",null,"Visualization of coffee bean ratings and productions across countries and regions. Data were gathered"," ",n.a.createElement("a",{href:"https://www.kaggle.com/datasets/mexwell/coffee-beans-rating",target:"_blank",rel:"noreferrer"},"here"),".")),n.a.createElement("div",{className:"ranking-radar-section"},n.a.createElement("div",{className:"ranking-container"},n.a.createElement(i,null),n.a.createElement("p",{className:"viz-description"},"A sortable table listing coffee bean ratings and production totals by country and year.")),n.a.createElement("div",{className:"radar-container"},n.a.createElement(u,null),n.a.createElement("p",{className:"viz-description"},"A radar chart comparing sensory attributes of coffee beans across countries for the selected year."))),n.a.createElement("div",{className:"line-bar-section"},n.a.createElement("div",{className:"bar-container"},n.a.createElement(h,null),n.a.createElement("p",{className:"viz-description"},"A stacked bar chart showing scoring composition of top 5 scoring countries over the years.")),n.a.createElement("div",{className:"line-container"},n.a.createElement(y,null),n.a.createElement("div",{style:{marginTop:"40px"}},n.a.createElement("p",{className:"viz-description"},"A line graph illustrating trends in average coffee bean ratings across years.")))),n.a.createElement("footer",{className:"site-footer"},n.a.createElement("p",null,"\xa9 The beanRating Team | Riya Deshpande, Phuong Nguyen, Kevin Dao")))};var E=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,206)).then(t=>{let{getCLS:a,getFID:r,getFCP:n,getLCP:l,getTTFB:c}=t;a(e),r(e),n(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(p,null))),E()}},[[190,1,2]]]);
//# sourceMappingURL=main.86d64c91.chunk.js.map